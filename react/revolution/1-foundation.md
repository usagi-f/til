# Reactのキホン



## Reactはフレームワークなのか

`Reactはビューライブラリです。`

これは正しいことを言っていますが、実際のところReactを使って構築していくと、現状の手法は似ていきます。

ただしこれは「ベストプラクティスに沿う」ということで、フレームワークのように強制されるものではありません。

## 学習コスト

React自体の学習コストは低いです。

これは何故かというと、React自身がもっている役割は至極単純で、通常のJavaScriptからは大きく逸脱していないからです。

React自身ではなく、Reactを使いこなすためのプログラム知識をつけることにコストがかかります。ただし、それらは不要な知識になりづらいです。

- 「コンポーネント思考であること」
- 「データフロー体系を身につける必要があること」

Reactを通してこういったことを学ぶことは、自分のスキルの底上げを意味します。将来的にまた別のライブラリが登場したとしても、活かすことができるでしょう。

---

Reactに関する学習コストで、無視できないものは「開発環境」です。
正しく・しっかりと・実務レベルで、Reactを利用するには追加で必要な知識がとても多いのが現状です。

ざっとあげるだけでこれくらいあります。

- Webpack
- Babel
- Redux
- ES2015
- JSX

いきなり実務投入する前に、プロトタイプを作ってみましょう。

## jQueryと違う、ReactのDOM操作

いままでは画面上に動きをつけるためには、jQueryを使ってDOMを触ってきました。
Reactの根本的な考えに、このDOM操作を直接行わないというものがあります。

Reactのコンポーネントはとある「**値**」を必ず参照し、その値を元に**画面を構築**します。
つまり「値」を変更すれば、変更された値に応じた画面に再構築される、ということです。

例えばタブUIの切り替えを実装したい場合、

|使用ライブラリ|つくりかた|
|---|---|
|jQuery|タブの見た目がONになるように、DOMに手を加える<br>(classの付与や、要素の追加/削除など)|
|React|タブのON/OFFの各状態をあらかじめ定義しておいて、内部的にもっているデータを書き換える<br>(すると、画面がそれにあったものに再描画される)|

### StateとProps

その「値」にあたるのがStateとPropsです。

Reactは、StateやPropsを変更することで画面の操作をします。逆に言うと、StateとPropsだけを見ていれば、なんでも作れてしまいます。

違いは以下のとおりです。

|種類|役割|書き換えが可能かどうか|
|---|---|---|
|State|コンポーネントが内部的に保持している値|可能|
|Props|他のコンポーネントから渡される値|不可能|

Stateは自分がもっている値なので、自由に書き換えることができます。
Propsは他人から受け取るので、変更することはできません。

## コンポーネント構造

Reactは通常、ツリー構造にコンポーネントを広げていきます。

```
└── Component_root
    ├── Component_A
    │   ├── Component_inu
    │   └── Component_neko
    └── Component_B
        ├── Component_apple
        └── Component_orange
```

## JSXとは？

JSXは**HTMLに非常によく似た構文のJavaScript**です。
一見HTMLそのものですが、これはJavaScriptです。

ReactはDOMの表現をするライブラリなので、プログラムでDOMを宣言することが多いのですが、普通に書くと以下のようになります。

```js
var div = React.DOM.div(null, 'hello');
```

一方JSXで書くと、同じものが以下のように書けます。

```js
var div = <div>hello</div>;
```

実際は複雑なDOMを構築することがほとんどなので、JSXを使わずにReactを使うのは難しいです。

```js
var dom = (
    <div>
        <h1 className="heading">見出し</h1> // JavaScriptの予約語は別の名前になっている（class -> className）
        <p>本文</p>
    </div>
);
```
